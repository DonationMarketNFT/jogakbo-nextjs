{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/pages/mypage.tsx\",\n    _s = $RefreshSig$();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { media } from \"../../styles/theme\";\nimport { getBalance, testOwnTokenId, testTokenId2Description, testTokenId2Name } from \"../api/UseCaver\";\nimport { modalPropsState, myAddressState, myBalanceState, qrValueState, showConnectWalletModalState } from \"../../atom\";\nimport { faClone } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ConnectWalletModal from \"../components/modals/ConnectWalletModal\";\nimport * as KlipAPI from \"../api/UseKlip\";\nimport Seo from \"../components/Seo\";\nvar Container = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__Container\",\n  componentId: \"sc-6wvjb6-0\"\n})([\"display:flex;flex-direction:column;padding:200px 0 70px 0;width:935px;margin:0 auto;\", \"{width:auto;padding:170px 0 100px 0;}\", \"{padding:100px 0 50px 0;}\"], media.tablet, media.mobile);\n_c = Container;\nvar ProfileContainer = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__ProfileContainer\",\n  componentId: \"sc-6wvjb6-1\"\n})([\"display:flex;flex-direction:column;align-items:center;margin-bottom:80px;\"]);\n_c2 = ProfileContainer;\nvar ProfileImage = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__ProfileImage\",\n  componentId: \"sc-6wvjb6-2\"\n})([\"background-image:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0.5)),url(\", \");background-size:cover;background-position:center center;margin:10px;width:300px;height:300px;border-radius:50%;\", \"{width:220px;height:220px;}\", \"{width:200px;height:200px;}\"], function (props) {\n  return props.bgphoto;\n}, media.tablet, media.mobile);\n_c3 = ProfileImage;\nvar ProfileInfoBox = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__ProfileInfoBox\",\n  componentId: \"sc-6wvjb6-3\"\n})([\"width:50%;margin:10px;\", \"{width:100%;padding:0 30px;}\"], media.mobile);\n_c4 = ProfileInfoBox;\nvar ProfileInfo = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__ProfileInfo\",\n  componentId: \"sc-6wvjb6-4\"\n})([\"display:flex;position:relative;margin-top:20px;height:50px;label{position:absolute;top:-18px;left:5px;color:gray;}input{all:unset;height:40px;padding:0 10px;font-size:18px;width:100%;}&:first-child{input{background:\", \";border-radius:5px;color:white;\", \"{font-size:13px;}}}\"], function (props) {\n  return props.theme.gray;\n}, media.mobile);\n_c5 = ProfileInfo;\nvar WalletConnectButton = /*#__PURE__*/styled.button.withConfig({\n  displayName: \"mypage__WalletConnectButton\",\n  componentId: \"sc-6wvjb6-5\"\n})([\"background:\", \";width:100%;margin:5px 0;margin-bottom:30px;padding:20px;border-radius:10px;box-sizing:border-box;color:\", \";text-align:center;font-size:20px;cursor:pointer;\"], function (props) {\n  return props.theme.gradient;\n}, function (props) {\n  return props.theme.bgColor;\n});\n_c6 = WalletConnectButton;\nvar Withdraw = /*#__PURE__*/styled.button.withConfig({\n  displayName: \"mypage__Withdraw\",\n  componentId: \"sc-6wvjb6-6\"\n})([\"width:50%;margin:0 auto;text-align:center;background:red;padding:10px 12px;border-radius:5px;color:white;font-size:12px;cursor:pointer;\"]);\n_c7 = Withdraw;\nvar NFTContainer = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__NFTContainer\",\n  componentId: \"sc-6wvjb6-7\"\n})([\"position:relative;display:grid;grid-template-columns:repeat(4,1fr);gap:20px 15px;width:935px;padding:30px;margin:0 auto;margin-bottom:200px;h3{position:absolute;left:30px;}\", \"{width:auto;}\", \"{grid-template-columns:repeat(2,1fr);margin-bottom:100px;}\"], media.tablet, media.mobile);\n_c8 = NFTContainer;\nvar NFTBox = /*#__PURE__*/styled(motion.div).withConfig({\n  displayName: \"mypage__NFTBox\",\n  componentId: \"sc-6wvjb6-8\"\n})([\"background:pink;background-size:cover;background-position:center center;height:200px;border-radius:10px;\", \"{height:150px;}\", \"{height:130px;}\"], media.tablet, media[768]);\n_c9 = NFTBox;\nvar CopyBox = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"mypage__CopyBox\",\n  componentId: \"sc-6wvjb6-9\"\n})([\"position:absolute;right:10px;top:10px;color:white;display:flex;justify-content:center;align-items:center;cursor:pointer;\"]);\n_c10 = CopyBox;\nvar boxVariants = {\n  hover: {\n    scale: 1.05\n  }\n};\nvar DEFAULT_IMAGE = \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\";\n\nfunction Mypage() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(DEFAULT_IMAGE),\n      profile = _useState[0],\n      setProfile = _useState[1];\n\n  var _useRecoilState = useRecoilState(myAddressState),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      myAddress = _useRecoilState2[0],\n      setMyAddress = _useRecoilState2[1];\n\n  var _useRecoilState3 = useRecoilState(myBalanceState),\n      _useRecoilState4 = _slicedToArray(_useRecoilState3, 2),\n      myBalance = _useRecoilState4[0],\n      setMyBalance = _useRecoilState4[1];\n\n  var _useRecoilState5 = useRecoilState(modalPropsState),\n      _useRecoilState6 = _slicedToArray(_useRecoilState5, 2),\n      modalProps = _useRecoilState6[0],\n      setModalProps = _useRecoilState6[1];\n\n  var _useRecoilState7 = useRecoilState(qrValueState),\n      _useRecoilState8 = _slicedToArray(_useRecoilState7, 2),\n      qrvalue = _useRecoilState8[0],\n      setQrvalue = _useRecoilState8[1]; // const [showModal, setShowModal] = useRecoilState(showConnectWalletModalState);\n\n\n  var _useRecoilState9 = useRecoilState(showConnectWalletModalState),\n      _useRecoilState10 = _slicedToArray(_useRecoilState9, 2),\n      connectWallet = _useRecoilState10[0],\n      setConnectWallet = _useRecoilState10[1];\n\n  var _useState2 = useState(false),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      value = _useState3[0],\n      setValue = _useState3[1];\n\n  var copyLinkRef = useRef();\n\n  var _useState4 = useState([]),\n      ownToken = _useState4[0],\n      setOwnToken = _useState4[1];\n\n  var uri = window.location.href;\n  console.log(uri);\n\n  var getOwnTokenIds = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(address) {\n      var ids;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return testOwnTokenId(address);\n\n            case 2:\n              ids = _context.sent;\n              return _context.abrupt(\"return\", ids);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getOwnTokenIds(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getOwnTokenInfo = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var ownTokenArray, ids, _iterator, _step, id, description, name;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(myAddress !== \"0x00\")) {\n                _context2.next = 28;\n                break;\n              }\n\n              ownTokenArray = [];\n              _context2.next = 4;\n              return getOwnTokenIds(myAddress);\n\n            case 4:\n              ids = _context2.sent;\n              _iterator = _createForOfIteratorHelper(ids);\n              _context2.prev = 6;\n\n              _iterator.s();\n\n            case 8:\n              if ((_step = _iterator.n()).done) {\n                _context2.next = 19;\n                break;\n              }\n\n              id = _step.value;\n              _context2.next = 12;\n              return testTokenId2Description(id);\n\n            case 12:\n              description = _context2.sent;\n              _context2.next = 15;\n              return testTokenId2Name(id);\n\n            case 15:\n              name = _context2.sent;\n              ownTokenArray.push([id, name, description]);\n\n            case 17:\n              _context2.next = 8;\n              break;\n\n            case 19:\n              _context2.next = 24;\n              break;\n\n            case 21:\n              _context2.prev = 21;\n              _context2.t0 = _context2[\"catch\"](6);\n\n              _iterator.e(_context2.t0);\n\n            case 24:\n              _context2.prev = 24;\n\n              _iterator.f();\n\n              return _context2.finish(24);\n\n            case 27:\n              setOwnToken(ownTokenArray);\n\n            case 28:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[6, 21, 24, 27]]);\n    }));\n\n    return function getOwnTokenInfo() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getUserData = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setModalProps({\n                title: \"Klip 지갑을 연동하시겠습니까?\",\n                onConfirm: function onConfirm() {\n                  KlipAPI.getAddress(setQrvalue, /*#__PURE__*/function () {\n                    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(address) {\n                      var _balance;\n\n                      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                        while (1) {\n                          switch (_context3.prev = _context3.next) {\n                            case 0:\n                              setMyAddress(address);\n                              _context3.next = 3;\n                              return getBalance(address);\n\n                            case 3:\n                              _balance = _context3.sent;\n                              setMyBalance(_balance);\n\n                            case 5:\n                            case \"end\":\n                              return _context3.stop();\n                          }\n                        }\n                      }, _callee3);\n                    }));\n\n                    return function (_x2) {\n                      return _ref4.apply(this, arguments);\n                    };\n                  }());\n                }\n              });\n              setConnectWallet(true);\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function getUserData() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getOwnTokenInfo();\n    getUserData();\n  }, []);\n\n  var copyAddress = function copyAddress() {\n    copyLinkRef.current.focus();\n    copyLinkRef.current.select();\n    navigator.clipboard.writeText(copyLinkRef.current.value).then(function () {\n      alert(\"주소를 복사했습니다.\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Seo, {\n      title: \"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(ProfileContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ProfileImage, {\n          bgphoto: profile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProfileInfoBox, {\n          children: [myAddress !== \"0x00\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ProfileInfo, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"address\",\n                children: \"Wallet Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"address\",\n                readOnly: true,\n                type: \"text\",\n                value: myAddress,\n                ref: copyLinkRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CopyBox, {\n                onClick: copyAddress,\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faClone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProfileInfo, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"balance\",\n                children: \"Wallet Balance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"balance\",\n                readOnly: true,\n                type: \"text\",\n                value: \"\".concat(myBalance, \" Klay\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), myAddress === \"0x00\" && /*#__PURE__*/_jsxDEV(WalletConnectButton, {\n            onClick: getUserData,\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NFTContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My NFTs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), ownToken.map(function (data, i) {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(NFTBox, {\n              variants: boxVariants,\n              whileHover: \"hover\",\n              children: data[1]\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Withdraw, {\n        children: \"\\uD68C\\uC6D0 \\uD0C8\\uD1F4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), connectWallet && /*#__PURE__*/_jsxDEV(ConnectWalletModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Mypage, \"bZ3/TG5KRIQAmf5g/2bNODLLQd8=\", false, function () {\n  return [useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState];\n});\n\n_c11 = Mypage;\nexport default Mypage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"ProfileContainer\");\n$RefreshReg$(_c3, \"ProfileImage\");\n$RefreshReg$(_c4, \"ProfileInfoBox\");\n$RefreshReg$(_c5, \"ProfileInfo\");\n$RefreshReg$(_c6, \"WalletConnectButton\");\n$RefreshReg$(_c7, \"Withdraw\");\n$RefreshReg$(_c8, \"NFTContainer\");\n$RefreshReg$(_c9, \"NFTBox\");\n$RefreshReg$(_c10, \"CopyBox\");\n$RefreshReg$(_c11, \"Mypage\");","map":{"version":3,"sources":["/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/pages/mypage.tsx"],"names":["styled","motion","useEffect","useRef","useState","useRecoilState","media","getBalance","testOwnTokenId","testTokenId2Description","testTokenId2Name","modalPropsState","myAddressState","myBalanceState","qrValueState","showConnectWalletModalState","faClone","FontAwesomeIcon","ConnectWalletModal","KlipAPI","Seo","Container","div","tablet","mobile","ProfileContainer","ProfileImage","props","bgphoto","ProfileInfoBox","ProfileInfo","theme","gray","WalletConnectButton","button","gradient","bgColor","Withdraw","NFTContainer","NFTBox","CopyBox","boxVariants","hover","scale","DEFAULT_IMAGE","Mypage","profile","setProfile","myAddress","setMyAddress","myBalance","setMyBalance","modalProps","setModalProps","qrvalue","setQrvalue","connectWallet","setConnectWallet","show","setShow","value","setValue","copyLinkRef","ownToken","setOwnToken","uri","window","location","href","console","log","getOwnTokenIds","address","ids","getOwnTokenInfo","ownTokenArray","id","description","name","push","getUserData","title","onConfirm","getAddress","_balance","copyAddress","current","focus","select","navigator","clipboard","writeText","then","alert","map","data","i"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { media } from \"../../styles/theme\";\nimport {\n  getBalance,\n  testOwnTokenId,\n  testTokenId2Description,\n  testTokenId2Name,\n} from \"../api/UseCaver\";\nimport {\n  modalPropsState,\n  myAddressState,\n  myBalanceState,\n  qrValueState,\n  showConnectWalletModalState,\n} from \"../../atom\";\nimport { faClone } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport ConnectWalletModal from \"../components/modals/ConnectWalletModal\";\nimport * as KlipAPI from \"../api/UseKlip\";\nimport Seo from \"../components/Seo\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 200px 0 70px 0;\n  width: 935px;\n  margin: 0 auto;\n  ${media.tablet} {\n    width: auto;\n    padding: 170px 0 100px 0;\n  }\n  ${media.mobile} {\n    padding: 100px 0 50px 0;\n  }\n`;\n\nconst ProfileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 80px;\n`;\n\ninterface IProfile {\n  bgphoto: string;\n}\n\nconst ProfileImage = styled.div<IProfile>`\n  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5)),\n    url(${(props) => props.bgphoto});\n  background-size: cover;\n  background-position: center center;\n  margin: 10px;\n  width: 300px;\n  height: 300px;\n  border-radius: 50%;\n  ${media.tablet} {\n    width: 220px;\n    height: 220px;\n  }\n  ${media.mobile} {\n    width: 200px;\n    height: 200px;\n  }\n`;\n\nconst ProfileInfoBox = styled.div`\n  width: 50%;\n  margin: 10px;\n  ${media.mobile} {\n    width: 100%;\n    padding: 0 30px;\n  }\n`;\n\nconst ProfileInfo = styled.div`\n  display: flex;\n  position: relative;\n  margin-top: 20px;\n  height: 50px;\n  label {\n    position: absolute;\n    top: -18px;\n    left: 5px;\n    color: gray;\n  }\n  input {\n    all: unset;\n    height: 40px;\n    padding: 0 10px;\n    font-size: 18px;\n    width: 100%;\n  }\n  &:first-child {\n    input {\n      background: ${(props) => props.theme.gray};\n      border-radius: 5px;\n      color: white;\n      ${media.mobile} {\n        font-size: 13px;\n      }\n    }\n  }\n`;\nconst WalletConnectButton = styled.button`\n  background: ${(props) => props.theme.gradient};\n  width: 100%;\n  margin: 5px 0;\n  margin-bottom: 30px;\n  padding: 20px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  color: ${(props) => props.theme.bgColor};\n  text-align: center;\n  font-size: 20px;\n  cursor: pointer;\n`;\n\nconst Withdraw = styled.button`\n  width: 50%;\n  margin: 0 auto;\n  text-align: center;\n  background: red;\n  padding: 10px 12px;\n  border-radius: 5px;\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n`;\n\nconst NFTContainer = styled.div`\n  position: relative;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 20px 15px;\n  width: 935px;\n  padding: 30px;\n  margin: 0 auto;\n  margin-bottom: 200px;\n  h3 {\n    position: absolute;\n    left: 30px;\n  }\n  ${media.tablet} {\n    width: auto;\n  }\n  ${media.mobile} {\n    grid-template-columns: repeat(2, 1fr);\n    margin-bottom: 100px;\n  }\n`;\n\nconst NFTBox = styled(motion.div)`\n  background: pink;\n  background-size: cover;\n  background-position: center center;\n  height: 200px;\n  border-radius: 10px;\n  ${media.tablet} {\n    height: 150px;\n  }\n  ${media[768]} {\n    height: 130px;\n  }\n`;\n\nconst CopyBox = styled.div`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`;\n\nconst boxVariants = { hover: { scale: 1.05 } };\n\nconst DEFAULT_IMAGE =\n  \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\";\n\nfunction Mypage() {\n  const [profile, setProfile] = useState(DEFAULT_IMAGE);\n  const [myAddress, setMyAddress] = useRecoilState(myAddressState);\n  const [myBalance, setMyBalance] = useRecoilState(myBalanceState);\n  const [modalProps, setModalProps] = useRecoilState(modalPropsState);\n  const [qrvalue, setQrvalue] = useRecoilState(qrValueState);\n  // const [showModal, setShowModal] = useRecoilState(showConnectWalletModalState);\n\n  const [connectWallet, setConnectWallet] = useRecoilState(\n    showConnectWalletModalState\n  );\n  const [show, setShow] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const copyLinkRef = useRef<any>();\n  const [ownToken, setOwnToken] = useState<any[]>([]);\n\n  const uri = window.location.href;\n  console.log(uri);\n\n  const getOwnTokenIds = async (address: string) => {\n    const ids = await testOwnTokenId(address);\n    return ids;\n  };\n  const getOwnTokenInfo = async () => {\n    if (myAddress !== \"0x00\") {\n      let ownTokenArray = [];\n      const ids = await getOwnTokenIds(myAddress);\n      for (let id of ids) {\n        const description = await testTokenId2Description(id);\n        const name = await testTokenId2Name(id);\n        ownTokenArray.push([id, name, description]);\n      }\n      setOwnToken(ownTokenArray);\n    }\n  };\n\n  const getUserData = async () => {\n    setModalProps({\n      title: \"Klip 지갑을 연동하시겠습니까?\",\n      onConfirm: () => {\n        KlipAPI.getAddress(setQrvalue, async (address: string) => {\n          setMyAddress(address);\n          const _balance = await getBalance(address);\n          setMyBalance(_balance);\n        });\n      },\n    });\n    setConnectWallet(true);\n  };\n\n  useEffect(() => {\n    getOwnTokenInfo();\n    getUserData();\n  }, []);\n\n  const copyAddress = () => {\n    copyLinkRef.current.focus();\n    copyLinkRef.current.select();\n    navigator.clipboard.writeText(copyLinkRef.current.value).then(() => {\n      alert(\"주소를 복사했습니다.\");\n    });\n  };\n\n  return (\n    <>\n      <Seo title=\"마이페이지\" />\n      <Container>\n        <ProfileContainer>\n          <ProfileImage bgphoto={profile} />\n          <ProfileInfoBox>\n            {myAddress !== \"0x00\" && (\n              <>\n                <ProfileInfo>\n                  <label htmlFor=\"address\">Wallet Address</label>\n                  <input\n                    id=\"address\"\n                    readOnly\n                    type=\"text\"\n                    value={myAddress}\n                    ref={copyLinkRef}\n                  />\n                  <CopyBox onClick={copyAddress}>\n                    <FontAwesomeIcon icon={faClone} />\n                  </CopyBox>\n                </ProfileInfo>\n                <ProfileInfo>\n                  <label htmlFor=\"balance\">Wallet Balance</label>\n                  <input\n                    id=\"balance\"\n                    readOnly\n                    type=\"text\"\n                    value={`${myBalance} Klay`}\n                  />\n                </ProfileInfo>\n              </>\n            )}\n            {myAddress === \"0x00\" && (\n              <WalletConnectButton onClick={getUserData}>\n                Connect Wallet\n              </WalletConnectButton>\n            )}\n          </ProfileInfoBox>\n        </ProfileContainer>\n        <NFTContainer>\n          <h3>My NFTs</h3>\n          {ownToken.map((data, i) => (\n            <>\n              <NFTBox key={i} variants={boxVariants} whileHover=\"hover\">\n                {data[1]}\n              </NFTBox>\n            </>\n          ))}\n        </NFTContainer>\n        <Withdraw>회원 탈퇴</Withdraw>\n      </Container>\n      {connectWallet && <ConnectWalletModal />}\n    </>\n  );\n}\n\nexport default Mypage;\n"]},"metadata":{},"sourceType":"module"}