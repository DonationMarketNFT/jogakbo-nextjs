{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport axios from \"axios\";\nconst API = \"https://cors-anywhere.herokuapp.com/https://openapi.naver.com/v1/nid/me\";\n\nconst UserProfile = () => {\n  if (false) {\n    window.location.href.includes(\"access_token\") && GetUser();\n  }\n\n  function GetUser() {\n    if (false) {\n      const location = window.location.href.split(\"=\")[1];\n      const token = location.split(\"&\")[0];\n      const state = window.location.href.split(\"=\")[2].split(\"&\")[0];\n      console.log(\"token: \", token);\n      console.log(\"state: \", state);\n      fetch(`${API}`, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(res => {\n        console.log(\"로그인성공\", res);\n        console.log(\"닉네임\");\n        console.log(res.response.nickname);\n        console.log(\"email\");\n        console.log(res.response.email);\n        findEmail(res.response.email);\n      }).catch(err => console.log(\"err : \", err));\n    }\n  }\n\n  async function findEmail(email) {\n    console.log(email);\n\n    try {\n      const response = await axios.get(`http://ec2-52-78-57-218.ap-northeast-2.compute.amazonaws.com:3000/account/user/${email}`);\n      console.log(response);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n};\n\nconst naverPopUp = () => {\n  UserProfile();\n  return /*#__PURE__*/_jsx(\"div\", {});\n};\n\nexport default naverPopUp;","map":null,"metadata":{},"sourceType":"module"}