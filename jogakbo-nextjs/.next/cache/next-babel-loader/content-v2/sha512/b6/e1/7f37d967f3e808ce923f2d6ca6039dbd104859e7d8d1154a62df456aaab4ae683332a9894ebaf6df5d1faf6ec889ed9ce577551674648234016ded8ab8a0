{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/components/OAuth/Google.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useRecoilState } from \"recoil\";\nimport { isLoginedState } from \"../../../atom\";\nimport GoogleLogin from \"react-google-login\";\nvar Container = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Google__Container\",\n  componentId: \"sc-1p146o8-0\"\n})([\"display:flex;align-items:center;margin:10px 0;padding:0 15px;width:300px;height:45px;background:#f8f8f8;border-radius:5px;box-shadow:0 1px 2px 0 rgb(0 0 0 / 20%);cursor:pointer;\"]);\n_c = Container;\nvar Logo = /*#__PURE__*/styled.img.withConfig({\n  displayName: \"Google__Logo\",\n  componentId: \"sc-1p146o8-1\"\n})([\"width:36px;\"]);\n_c2 = Logo;\nvar Text = /*#__PURE__*/styled.h5.withConfig({\n  displayName: \"Google__Text\",\n  componentId: \"sc-1p146o8-2\"\n})([\"width:100%;text-align:center;\"]);\n_c3 = Text;\n\nfunction Google() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(null),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useRecoilState = useRecoilState(isLoginedState),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      login = _useRecoilState2[0],\n      setLogin = _useRecoilState2[1]; //   const oAuthURL = `https://accounts.google.com/o/oauth2/v2/auth?client_id=991698652827-vu3q9s8470ko9tu9sl342j69rn7ckpl9.apps.googleusercontent.com&\n  // response_type=token&\n  // redirect_uri=http://localhost:3003&\n  // scope=https://www.googleapis.com/auth/userinfo.email`;\n  //   const oAuthHandler = () => {\n  //     window.location.assign(oAuthURL);\n  //   };\n  // useEffect(async () => {\n  //   const url = new URL(window.location.href);\n  //   const hash = url.hash;\n  //   if (hash) {\n  //     const accessToken = hash.split(\"=\")[1].split(\"&\")[0];\n  //     await axios\n  //       .get(\n  //         \"https://www.googleapis.com/oauth2/v2/userinfo?access_token=\" +\n  //           accessToken,\n  //         {\n  //           headers: {\n  //             authorization: `token ${accessToken}`,\n  //             accept: \"application/json\",\n  //           },\n  //         },\n  //       )\n  //       .then(data => {\n  //         console.log(data);\n  //         setData(data);\n  //         setLogin(true);\n  //       })\n  //       .catch(e => console.log(\"oAuth token expired\"));\n  //   }\n  // }, []);\n\n\n  return /*#__PURE__*/_jsxDEV(GoogleLogin, {\n    render: function render(_ref) {\n      var onClick = _ref.onClick;\n      return /*#__PURE__*/_jsxDEV(Container, {\n        id: \"oAuthBtn\",\n        onClick: oAuthHandler,\n        children: [/*#__PURE__*/_jsxDEV(Logo, {\n          src: \"oauth/google.svg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Text, {\n          children: \"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Google, \"fPvmaFjKZDQ0EFWwdhn7Wdv3t2g=\", false, function () {\n  return [useRecoilState];\n});\n\n_c4 = Google;\nexport default Google;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Logo\");\n$RefreshReg$(_c3, \"Text\");\n$RefreshReg$(_c4, \"Google\");","map":{"version":3,"sources":["/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/components/OAuth/Google.js"],"names":["useState","useEffect","axios","styled","useRecoilState","isLoginedState","GoogleLogin","Container","div","Logo","img","Text","h5","Google","data","setData","login","setLogin","onClick","oAuthHandler"],"mappings":";;;;;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,cAAR,QAA6B,QAA7B;AACA,SAAQC,cAAR,QAA6B,eAA7B;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AAEA,IAAMC,SAAS,gBAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,yLAAf;KAAMD,S;AAaN,IAAME,IAAI,gBAAGN,MAAM,CAACO,GAAV;AAAA;AAAA;AAAA,mBAAV;MAAMD,I;AAIN,IAAME,IAAI,gBAAGR,MAAM,CAACS,EAAV;AAAA;AAAA;AAAA,qCAAV;MAAMD,I;;AAKN,SAASE,MAAT,GAAkB;AAAA;;AAAA;;AAAA,kBACQb,QAAQ,CAAC,IAAD,CADhB;AAAA,MACTc,IADS;AAAA,MACHC,OADG;;AAAA,wBAEUX,cAAc,CAACC,cAAD,CAFxB;AAAA;AAAA,MAETW,KAFS;AAAA,MAEFC,QAFE,wBAIhB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACE,QAAC,WAAD;AACE,IAAA,MAAM,EAAE;AAAA,UAAEC,OAAF,QAAEA,OAAF;AAAA,0BACN,QAAC,SAAD;AAAW,QAAA,EAAE,EAAC,UAAd;AAAyB,QAAA,OAAO,EAAEC,YAAlC;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,GAAG,EAAC;AAAV;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,eADM;AAAA;AADV;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;GAhDQN,M;UAEmBT,c;;;MAFnBS,M;AAkDT,eAAeA,MAAf","sourcesContent":["import {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport {useRecoilState} from \"recoil\";\nimport {isLoginedState} from \"../../../atom\";\nimport GoogleLogin from \"react-google-login\";\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n  padding: 0 15px;\n  width: 300px;\n  height: 45px;\n  background: #f8f8f8;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 20%);\n  cursor: pointer;\n`;\n\nconst Logo = styled.img`\n  width: 36px;\n`;\n\nconst Text = styled.h5`\n  width: 100%;\n  text-align: center;\n`;\n\nfunction Google() {\n  const [data, setData] = useState(null);\n  const [login, setLogin] = useRecoilState(isLoginedState);\n\n  //   const oAuthURL = `https://accounts.google.com/o/oauth2/v2/auth?client_id=991698652827-vu3q9s8470ko9tu9sl342j69rn7ckpl9.apps.googleusercontent.com&\n  // response_type=token&\n  // redirect_uri=http://localhost:3003&\n  // scope=https://www.googleapis.com/auth/userinfo.email`;\n  //   const oAuthHandler = () => {\n  //     window.location.assign(oAuthURL);\n  //   };\n\n  // useEffect(async () => {\n  //   const url = new URL(window.location.href);\n\n  //   const hash = url.hash;\n  //   if (hash) {\n  //     const accessToken = hash.split(\"=\")[1].split(\"&\")[0];\n  //     await axios\n  //       .get(\n  //         \"https://www.googleapis.com/oauth2/v2/userinfo?access_token=\" +\n  //           accessToken,\n  //         {\n  //           headers: {\n  //             authorization: `token ${accessToken}`,\n  //             accept: \"application/json\",\n  //           },\n  //         },\n  //       )\n  //       .then(data => {\n  //         console.log(data);\n  //         setData(data);\n  //         setLogin(true);\n  //       })\n  //       .catch(e => console.log(\"oAuth token expired\"));\n  //   }\n  // }, []);\n\n  return (\n    <GoogleLogin\n      render={({onClick}) => (\n        <Container id=\"oAuthBtn\" onClick={oAuthHandler}>\n          <Logo src=\"oauth/google.svg\" />\n          <Text>구글 로그인</Text>\n        </Container>\n      )}\n    ></GoogleLogin>\n  );\n}\n\nexport default Google;\n"]},"metadata":{},"sourceType":"module"}