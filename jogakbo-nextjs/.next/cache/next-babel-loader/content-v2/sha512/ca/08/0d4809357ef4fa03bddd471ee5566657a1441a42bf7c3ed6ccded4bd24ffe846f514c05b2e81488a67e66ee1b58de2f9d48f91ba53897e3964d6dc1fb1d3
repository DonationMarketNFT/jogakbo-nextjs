{"ast":null,"code":"import axios from \"axios\";\nimport { login } from \"./Login\";\nconst BASE_PATH = \"http://ec2-52-78-57-218.ap-northeast-2.compute.amazonaws.com:3000/account-wc\";\n// 모든 데이터 조회\nexport const getAccounts = async cb => {\n  const results = await axios.get(`${BASE_PATH}/user_all`);\n  cb(results.data);\n}; // 특정 데이터 조회\n\nexport const getAccount = async id => {\n  const results = await axios.get(`${BASE_PATH}/user/${id}`);\n  return results.data;\n}; // DB에 있는 주소라면 true, 없다면 false를 login에 저장\n\nexport const getUserAddress = async (addr, callback) => {\n  // const results =\n  await axios.get(`${BASE_PATH}/user/addr/${addr}`).then(res => {\n    if (res.data) {\n      console.log(`[Result] ${JSON.stringify(res.data.result)}`);\n      callback(res.data.id);\n    }\n  }); // return results;\n}; // 첫 지갑연결 시 DB에 유저정보 추가\n\nexport const postAccount = (_walletAddress, _walletKind, setMyAddress) => {\n  const data = {\n    walletAddress: _walletAddress,\n    walletKind: _walletKind,\n    nickName: `user${_walletAddress}`\n  };\n  axios.post(`${BASE_PATH}/create_user`, data).then(res => {\n    // setMyAddress(_walletAddress);\n    console.log(\"유저등록\");\n    login(_walletAddress, setMyAddress);\n  }).catch(e => {\n    console.log(e); // setMyAddress(_walletAddress);\n\n    console.log(\"로그인성공\");\n    login(_walletAddress, setMyAddress);\n  });\n}; // 닉네임을 nickname로 수정\n\nexport const patchNickname = (id, nickname) => {\n  axios.patch(`${BASE_PATH}/user/updatenickname/${id}`, {\n    nickName: nickname\n  }).then(res => {\n    alert(\"정상적으로 변경되었습니다 :)\");\n    location.reload();\n  }).catch(e => console.log(e));\n};\nexport const deleteAccount = id => {\n  axios.delete(`${BASE_PATH}/user/delete/${id}`).then(res => {\n    console.log(`${id}번째 유저삭제 성공`);\n  }).catch(e => console.log(e));\n};","map":null,"metadata":{},"sourceType":"module"}