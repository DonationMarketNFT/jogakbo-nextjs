{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/components/OAuth/Google.js\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGoogle } from \"@fortawesome/free-brands-svg-icons\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\n\nfunction Google() {\n  const {\n    0: data,\n    1: setData\n  } = useState(null);\n  const oAuthURL = `https://accounts.google.com/o/oauth2/v2/auth?client_id=991698652827-vu3q9s8470ko9tu9sl342j69rn7ckpl9.apps.googleusercontent.com&\nresponse_type=token&\nredirect_uri=http://localhost:3003&\nscope=https://www.googleapis.com/auth/userinfo.email`;\n\n  const oAuthHandler = () => {\n    window.location.assign(oAuthURL);\n  };\n\n  useEffect(async () => {\n    const url = new URL(window.location.href);\n    const hash = url.hash;\n\n    if (hash) {\n      const accessToken = hash.split(\"=\")[1].split(\"&\")[0];\n      await axios.get(\"https://www.googleapis.com/oauth2/v2/userinfo?access_token=\" + accessToken, {\n        headers: {\n          authorization: `token ${accessToken}`,\n          accept: \"application/json\"\n        }\n      }).then(data => {\n        console.log(data);\n        setData(data);\n      }).catch(e => console.log(\"oAuth token expired\"));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    id: \"oAuthBtn\",\n    onClick: oAuthHandler,\n    bgColor: \"#f8f8f8\",\n    src: \"/google.svg\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\nexport default Google;","map":{"version":3,"sources":["/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/components/OAuth/Google.js"],"names":["FontAwesomeIcon","faGoogle","useState","useEffect","axios","styled","Google","data","setData","oAuthURL","oAuthHandler","window","location","assign","url","URL","href","hash","accessToken","split","get","headers","authorization","accept","then","console","log","catch","e"],"mappings":";;AAAA,SAASA,eAAT,QAAgC,gCAAhC;AACA,SAASC,QAAT,QAAyB,oCAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,SAASC,MAAT,GAAkB;AAChB,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBN,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMO,QAAQ,GAAI;AACpB;AACA;AACA,qDAHE;;AAIA,QAAMC,YAAY,GAAG,MAAM;AACzBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBJ,QAAvB;AACD,GAFD;;AAIAN,EAAAA,SAAS,CAAC,YAAY;AACpB,UAAMW,GAAG,GAAG,IAAIC,GAAJ,CAAQJ,MAAM,CAACC,QAAP,CAAgBI,IAAxB,CAAZ;AAEA,UAAMC,IAAI,GAAGH,GAAG,CAACG,IAAjB;;AACA,QAAIA,IAAJ,EAAU;AACR,YAAMC,WAAW,GAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmBA,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAApB;AACA,YAAMf,KAAK,CACRgB,GADG,CAEF,gEACEF,WAHA,EAIF;AACEG,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,SAAQJ,WAAY,EAD7B;AAEPK,UAAAA,MAAM,EAAE;AAFD;AADX,OAJE,EAWHC,IAXG,CAWGjB,IAAD,IAAU;AACdkB,QAAAA,OAAO,CAACC,GAAR,CAAYnB,IAAZ;AACAC,QAAAA,OAAO,CAACD,IAAD,CAAP;AACD,OAdG,EAeHoB,KAfG,CAeIC,CAAD,IAAOH,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAfV,CAAN;AAgBD;AACF,GAvBQ,EAuBN,EAvBM,CAAT;AAyBA,sBACE;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,OAAO,EAAEhB,YAFX;AAGE,IAAA,OAAO,EAAC,SAHV;AAIE,IAAA,GAAG,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA,UADF;AAQD;;AAED,eAAeJ,MAAf","sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGoogle } from \"@fortawesome/free-brands-svg-icons\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\n\nfunction Google() {\n  const [data, setData] = useState(null);\n  const oAuthURL = `https://accounts.google.com/o/oauth2/v2/auth?client_id=991698652827-vu3q9s8470ko9tu9sl342j69rn7ckpl9.apps.googleusercontent.com&\nresponse_type=token&\nredirect_uri=http://localhost:3003&\nscope=https://www.googleapis.com/auth/userinfo.email`;\n  const oAuthHandler = () => {\n    window.location.assign(oAuthURL);\n  };\n\n  useEffect(async () => {\n    const url = new URL(window.location.href);\n\n    const hash = url.hash;\n    if (hash) {\n      const accessToken = hash.split(\"=\")[1].split(\"&\")[0];\n      await axios\n        .get(\n          \"https://www.googleapis.com/oauth2/v2/userinfo?access_token=\" +\n            accessToken,\n          {\n            headers: {\n              authorization: `token ${accessToken}`,\n              accept: \"application/json\",\n            },\n          }\n        )\n        .then((data) => {\n          console.log(data);\n          setData(data);\n        })\n        .catch((e) => console.log(\"oAuth token expired\"));\n    }\n  }, []);\n\n  return (\n    <img\n      id=\"oAuthBtn\"\n      onClick={oAuthHandler}\n      bgColor=\"#f8f8f8\"\n      src=\"/google.svg\"\n    />\n  );\n}\n\nexport default Google;\n"]},"metadata":{},"sourceType":"module"}