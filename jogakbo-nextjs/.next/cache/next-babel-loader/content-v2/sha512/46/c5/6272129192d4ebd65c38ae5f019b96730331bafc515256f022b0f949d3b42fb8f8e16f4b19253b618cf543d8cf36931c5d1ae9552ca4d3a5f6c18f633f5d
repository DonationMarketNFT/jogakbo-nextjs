{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { motion, useAnimation, useViewportScroll } from \"framer-motion\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { color, flexSet, media } from \"../../../styles/theme\";\nimport Link from \"next/link\";\nimport { useRecoilState, useResetRecoilState } from \"recoil\";\nimport { modalPropsState, myAddressState, myBalanceState, qrValueState, showConnectWalletModalState, subMenuState } from \"../../../atom\";\nimport SubMenu from \"./SubMenu\";\nimport { useRouter } from \"next/dist/client/router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLightbulb } from \"@fortawesome/free-solid-svg-icons\";\nimport { faLightbulb as regular } from \"@fortawesome/free-regular-svg-icons\";\nimport useDarkMode from \"use-dark-mode\";\nimport ConnectWalletModal from \"../modals/ConnectWalletModal\";\nimport * as KlipAPI from \"../../api/UseKlip\";\nimport { getBalance } from \"../../api/UseCaver\";\nimport { postAccount } from \"../../api/accountWc\";\nimport axios from \"axios\";\nimport { confirmKaikas, testKaikas } from \"../../api/useKaikas\";\nimport { getDataFromCookie } from \"../../api/Login\";\nvar Head = /*#__PURE__*/styled(motion.header).withConfig({\n  displayName: \"Header__Head\",\n  componentId: \"sc-1l78s6x-0\"\n})([\"position:fixed;top:0;width:100%;height:80px;z-index:999;\"]);\nvar headerVariants = {\n  top: {\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\n    backdropFilter: \"none\",\n    border: \"none\",\n    boxShadow: \"none\"\n  },\n  scroll: {\n    backgroundColor: \"rgba(255,255,255,0.25)\",\n    backdropFilter: \"blur(7.5px)\",\n    border: \"2px solid rgba(255, 255, 255, 0.2)\",\n    boxShadow: \"0 2px 30px 0 rgba(0, 0, 0, 0.27)\"\n  }\n};\nvar HeaderFlexBox = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__HeaderFlexBox\",\n  componentId: \"sc-1l78s6x-1\"\n})([\"\", \";margin:0 auto;padding:0 30px;width:1050px;height:100%;\", \"{margin:0;width:100%;}\"], flexSet(\"space-between\"), media.tablet);\nvar Col = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__Col\",\n  componentId: \"sc-1l78s6x-2\"\n})([\"display:flex;align-items:center;\"]);\nvar Logo = /*#__PURE__*/styled.h1.withConfig({\n  displayName: \"Header__Logo\",\n  componentId: \"sc-1l78s6x-3\"\n})([\"font-family:\\\"Gugi\\\",cursive;font-size:28px;transition:all 0.2s ease-in-out;color:#f49a4a;\"]);\nvar Menu = /*#__PURE__*/styled.ul.withConfig({\n  displayName: \"Header__Menu\",\n  componentId: \"sc-1l78s6x-4\"\n})([\"\", \";li{position:relative;padding:15px;font-weight:400;transition:all 0.2s ease-in-out;color:\", \";&:hover{color:\", \";}}\", \"{display:none;}\"], flexSet(), function (props) {\n  return props.theme.textColor;\n}, function (props) {\n  return props.theme.gray.gray2;\n}, media[768]);\nvar Circle = /*#__PURE__*/styled(motion.span).withConfig({\n  displayName: \"Header__Circle\",\n  componentId: \"sc-1l78s6x-5\"\n})([\"position:absolute;width:5px;height:5px;border-radius:50%;bottom:5px;left:0;right:0;margin:0 auto;background:#f49a4a;\"]);\nvar UserBtn = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__UserBtn\",\n  componentId: \"sc-1l78s6x-6\"\n})([\"margin-left:15px;padding:10px 20px;background:#f49a4a;border-radius:10px;color:white;font-size:14px;font-weight:500;transition:all 0.3s ease-in-out;cursor:pointer;\"]);\nvar ModeToggle = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__ModeToggle\",\n  componentId: \"sc-1l78s6x-7\"\n})([\"\", \";margin-left:15px;cursor:pointer;width:20px;height:20px;svg{width:12px;color:\", \";}&:hover{border-radius:50%;background:rgba(255,255,255,0.2);}\"], flexSet(), color.mainColor);\nvar Triger = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__Triger\",\n  componentId: \"sc-1l78s6x-8\"\n})([\"display:none;flex-direction:column;justify-content:space-between;align-items:center;margin-left:15px;width:36px;height:26px;cursor:pointer;div{display:block;width:100%;height:4px;background:black;}div:nth-child(2){width:80%;}\", \"{display:flex;}\"], media[768]);\n\nvar BrowserHeader = function BrowserHeader() {\n  var router = useRouter();\n  var headerAnimation = useAnimation();\n\n  var _useViewportScroll = useViewportScroll(),\n      scrollY = _useViewportScroll.scrollY;\n\n  var _useRecoilState = useRecoilState(showConnectWalletModalState),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      showConnectWallet = _useRecoilState2[0],\n      setShowConnectWallet = _useRecoilState2[1];\n\n  var _useRecoilState3 = useRecoilState(modalPropsState),\n      _useRecoilState4 = _slicedToArray(_useRecoilState3, 2),\n      modalProps = _useRecoilState4[0],\n      setModalProps = _useRecoilState4[1];\n\n  var _useRecoilState5 = useRecoilState(subMenuState),\n      _useRecoilState6 = _slicedToArray(_useRecoilState5, 2),\n      subMenu = _useRecoilState6[0],\n      setSubMenu = _useRecoilState6[1];\n\n  var _useRecoilState7 = useRecoilState(myAddressState),\n      _useRecoilState8 = _slicedToArray(_useRecoilState7, 2),\n      myAddress = _useRecoilState8[0],\n      setMyAddress = _useRecoilState8[1];\n\n  var _useRecoilState9 = useRecoilState(myBalanceState),\n      _useRecoilState10 = _slicedToArray(_useRecoilState9, 2),\n      myBalance = _useRecoilState10[0],\n      setMyBalance = _useRecoilState10[1];\n\n  var _useRecoilState11 = useRecoilState(qrValueState),\n      _useRecoilState12 = _slicedToArray(_useRecoilState11, 2),\n      qrvalue = _useRecoilState12[0],\n      setQrvalue = _useRecoilState12[1];\n\n  var resetAddressState = useResetRecoilState(myAddressState);\n  var mode = useDarkMode();\n\n  var toggleMode = function toggleMode() {\n    mode.toggle();\n  };\n\n  var getUserData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalProps({\n                title: \"Connect Wallet\",\n                onConfirm: function onConfirm() {\n                  KlipAPI.getAddress(setQrvalue, /*#__PURE__*/function () {\n                    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(address) {\n                      var _balance;\n\n                      return _regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              setMyAddress(address);\n                              _context.next = 3;\n                              return getBalance(address);\n\n                            case 3:\n                              _balance = _context.sent;\n                              setMyBalance(_balance);\n                              postAccount(address, \"klip\", setMyAddress);\n                              setShowConnectWallet(false);\n\n                            case 7:\n                            case \"end\":\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee);\n                    }));\n\n                    return function (_x) {\n                      return _ref2.apply(this, arguments);\n                    };\n                  }());\n                }\n              });\n              setShowConnectWallet(true);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getUserData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleGetUser = function handleGetUser() {\n    getDataFromCookie(setMyAddress);\n  };\n\n  console.log(\"address\", myAddress);\n\n  var handleLogOut = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var user;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.get(\"/api/auth/logout\");\n\n            case 2:\n              user = _context3.sent;\n              console.log(user);\n              resetAddressState();\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleLogOut() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var testK = function testK() {\n    testKaikas(setMyAddress);\n  };\n\n  var confirm = function confirm() {\n    confirmKaikas();\n  };\n\n  useEffect(function () {\n    handleGetUser();\n    testK();\n    confirm();\n  }, []);\n  useEffect(function () {\n    scrollY.onChange(function () {\n      if (scrollY.get() > 20) {\n        headerAnimation.start(\"scroll\");\n      } else {\n        headerAnimation.start(\"top\");\n      }\n    });\n  }, [scrollY, headerAnimation]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      variants: headerVariants,\n      animate: headerAnimation,\n      initial: \"top\",\n      children: /*#__PURE__*/_jsxs(HeaderFlexBox, {\n        children: [/*#__PURE__*/_jsx(Col, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: /*#__PURE__*/_jsx(Logo, {\n                children: \"\\uC870\\uAC01\\uBCF4\"\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(Col, {\n          children: /*#__PURE__*/_jsxs(Menu, {\n            children: [/*#__PURE__*/_jsx(Link, {\n              href: \"/campaigns\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsxs(\"li\", {\n                  children: [\"\\uCEA0\\uD398\\uC778 \\uB458\\uB7EC\\uBCF4\\uAE30\", router.pathname === \"/campaigns\" && /*#__PURE__*/_jsx(Circle, {\n                    layoutId: \"circle\"\n                  })]\n                })\n              })\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/campaign\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsxs(\"li\", {\n                  children: [\"\\uCEA0\\uD398\\uC778 \\uC0DD\\uC131\\uD558\\uAE30\", router.pathname === \"/campaign\" && /*#__PURE__*/_jsx(Circle, {\n                    layoutId: \"circle\"\n                  })]\n                })\n              })\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(Col, {\n          children: [myAddress !== \"0x00\" ?\n          /*#__PURE__*/\n          // {token ? (\n          _jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(UserBtn, {\n              onClick: handleLogOut,\n              children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/mypage\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(UserBtn, {\n                  children: \"My Page\"\n                })\n              })\n            })]\n          }) : /*#__PURE__*/_jsx(UserBtn, {\n            onClick: getUserData,\n            children: \"connect wallet\"\n          }), mode.value ? /*#__PURE__*/_jsx(ModeToggle, {\n            onClick: toggleMode,\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: faLightbulb\n            })\n          }) : /*#__PURE__*/_jsx(ModeToggle, {\n            onClick: toggleMode,\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: regular\n            })\n          }), /*#__PURE__*/_jsxs(Triger, {\n            onClick: function onClick() {\n              return setSubMenu(true);\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n          })]\n        })]\n      })\n    }), showConnectWallet && /*#__PURE__*/_jsx(ConnectWalletModal, {}), subMenu && /*#__PURE__*/_jsx(SubMenu, {})]\n  });\n};\n\nexport default BrowserHeader;","map":null,"metadata":{},"sourceType":"module"}