{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { motion, useAnimation, useViewportScroll } from \"framer-motion\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { color, flexSet, media } from \"../../../styles/theme\";\nimport Link from \"next/link\";\nimport { useRecoilState, useResetRecoilState } from \"recoil\";\nimport { modalPropsState, myAddressState, myBalanceState, qrValueState, showConnectWalletModalState, subMenuState } from \"../../../atom\";\nimport SubMenu from \"./SubMenu\";\nimport { useRouter } from \"next/dist/client/router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLightbulb } from \"@fortawesome/free-solid-svg-icons\";\nimport { faLightbulb as regular } from \"@fortawesome/free-regular-svg-icons\";\nimport useDarkMode from \"use-dark-mode\";\nimport ConnectWalletModal from \"../modals/ConnectWalletModal\";\nimport * as KlipAPI from \"../../api/UseKlip\";\nimport { getBalance } from \"../../api/UseCaver\";\nimport { postAccount } from \"../../api/accountWc\";\nimport axios from \"axios\";\nimport { confirmKaikas, testKaikas } from \"../../api/useKaikas\";\nimport { getDataFromCookie } from \"../../api/Login\";\nconst Head = /*#__PURE__*/styled(motion.header).withConfig({\n  displayName: \"Header__Head\",\n  componentId: \"sc-1l78s6x-0\"\n})([\"position:fixed;top:0;width:100%;height:80px;z-index:999;\"]);\nconst headerVariants = {\n  top: {\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\n    backdropFilter: \"none\",\n    border: \"none\",\n    boxShadow: \"none\"\n  },\n  scroll: {\n    backgroundColor: \"rgba(255,255,255,0.25)\",\n    backdropFilter: \"blur(7.5px)\",\n    border: \"2px solid rgba(255, 255, 255, 0.2)\",\n    boxShadow: \"0 2px 30px 0 rgba(0, 0, 0, 0.27)\"\n  }\n};\nconst HeaderFlexBox = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__HeaderFlexBox\",\n  componentId: \"sc-1l78s6x-1\"\n})([\"\", \";margin:0 auto;padding:0 30px;width:1050px;height:100%;\", \"{margin:0;width:100%;}\"], flexSet(\"space-between\"), media.tablet);\nconst Col = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__Col\",\n  componentId: \"sc-1l78s6x-2\"\n})([\"display:flex;align-items:center;\"]);\nconst Logo = /*#__PURE__*/styled.h1.withConfig({\n  displayName: \"Header__Logo\",\n  componentId: \"sc-1l78s6x-3\"\n})([\"font-family:\\\"Gugi\\\",cursive;font-size:28px;transition:all 0.2s ease-in-out;color:#f49a4a;\"]);\nconst Menu = /*#__PURE__*/styled.ul.withConfig({\n  displayName: \"Header__Menu\",\n  componentId: \"sc-1l78s6x-4\"\n})([\"\", \";li{position:relative;padding:15px;font-weight:400;transition:all 0.2s ease-in-out;color:\", \";&:hover{color:\", \";}}\", \"{display:none;}\"], flexSet(), props => props.theme.textColor, props => props.theme.gray.gray2, media[768]);\nconst Circle = /*#__PURE__*/styled(motion.span).withConfig({\n  displayName: \"Header__Circle\",\n  componentId: \"sc-1l78s6x-5\"\n})([\"position:absolute;width:5px;height:5px;border-radius:50%;bottom:5px;left:0;right:0;margin:0 auto;background:#f49a4a;\"]);\nconst UserBtn = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__UserBtn\",\n  componentId: \"sc-1l78s6x-6\"\n})([\"margin-left:15px;padding:10px 20px;background:#f49a4a;border-radius:10px;color:white;font-size:14px;font-weight:500;transition:all 0.3s ease-in-out;cursor:pointer;\"]);\nconst ModeToggle = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__ModeToggle\",\n  componentId: \"sc-1l78s6x-7\"\n})([\"\", \";margin-left:15px;cursor:pointer;width:20px;height:20px;svg{width:12px;color:\", \";}&:hover{border-radius:50%;background:rgba(255,255,255,0.2);}\"], flexSet(), color.mainColor);\nconst Triger = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__Triger\",\n  componentId: \"sc-1l78s6x-8\"\n})([\"display:none;flex-direction:column;justify-content:space-between;align-items:center;margin-left:15px;width:36px;height:26px;cursor:pointer;div{display:block;width:100%;height:4px;background:black;}div:nth-child(2){width:80%;}\", \"{display:flex;}\"], media[768]);\n\nconst BrowserHeader = () => {\n  const router = useRouter();\n  const headerAnimation = useAnimation();\n  const {\n    scrollY\n  } = useViewportScroll();\n  const [showConnectWallet, setShowConnectWallet] = useRecoilState(showConnectWalletModalState);\n  const [modalProps, setModalProps] = useRecoilState(modalPropsState);\n  const [subMenu, setSubMenu] = useRecoilState(subMenuState);\n  const [myAddress, setMyAddress] = useRecoilState(myAddressState);\n  const [myBalance, setMyBalance] = useRecoilState(myBalanceState);\n  const [qrvalue, setQrvalue] = useRecoilState(qrValueState);\n  const resetAddressState = useResetRecoilState(myAddressState);\n  const mode = useDarkMode();\n\n  const toggleMode = () => {\n    mode.toggle();\n  };\n\n  const getUserData = async () => {\n    setModalProps({\n      title: \"Connect Wallet\",\n      onConfirm: () => {\n        KlipAPI.getAddress(setQrvalue, async address => {\n          setMyAddress(address);\n\n          const _balance = await getBalance(address);\n\n          setMyBalance(_balance);\n          postAccount(address, \"klip\", setMyAddress);\n          setShowConnectWallet(false);\n        });\n      }\n    });\n    setShowConnectWallet(true);\n  };\n\n  const handleGetUser = () => {\n    getDataFromCookie(setMyAddress);\n  };\n\n  console.log(\"address\", myAddress);\n\n  const handleLogOut = async () => {\n    const user = await axios.get(\"/api/auth/logout\");\n    console.log(user);\n    resetAddressState();\n  };\n\n  const testK = () => {\n    testKaikas(setMyAddress);\n  };\n\n  const confirm = () => {\n    confirmKaikas();\n  };\n\n  useEffect(() => {\n    handleGetUser();\n    testK();\n    confirm();\n  }, []);\n  useEffect(() => {\n    scrollY.onChange(() => {\n      if (scrollY.get() > 20) {\n        headerAnimation.start(\"scroll\");\n      } else {\n        headerAnimation.start(\"top\");\n      }\n    });\n  }, [scrollY, headerAnimation]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      variants: headerVariants,\n      animate: headerAnimation,\n      initial: \"top\",\n      children: /*#__PURE__*/_jsxs(HeaderFlexBox, {\n        children: [/*#__PURE__*/_jsx(Col, {\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              children: /*#__PURE__*/_jsx(Logo, {\n                children: \"\\uC870\\uAC01\\uBCF4\"\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsx(Col, {\n          children: /*#__PURE__*/_jsxs(Menu, {\n            children: [/*#__PURE__*/_jsx(Link, {\n              href: \"/campaigns\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsxs(\"li\", {\n                  children: [\"\\uCEA0\\uD398\\uC778 \\uB458\\uB7EC\\uBCF4\\uAE30\", router.pathname === \"/campaigns\" && /*#__PURE__*/_jsx(Circle, {\n                    layoutId: \"circle\"\n                  })]\n                })\n              })\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/campaign\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsxs(\"li\", {\n                  children: [\"\\uCEA0\\uD398\\uC778 \\uC0DD\\uC131\\uD558\\uAE30\", router.pathname === \"/campaign\" && /*#__PURE__*/_jsx(Circle, {\n                    layoutId: \"circle\"\n                  })]\n                })\n              })\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(Col, {\n          children: [myAddress !== \"0x00\" ?\n          /*#__PURE__*/\n          // {token ? (\n          _jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(UserBtn, {\n              onClick: handleLogOut,\n              children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/mypage\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: /*#__PURE__*/_jsx(UserBtn, {\n                  children: \"My Page\"\n                })\n              })\n            })]\n          }) : /*#__PURE__*/_jsx(UserBtn, {\n            onClick: getUserData,\n            children: \"connect wallet\"\n          }), mode.value ? /*#__PURE__*/_jsx(ModeToggle, {\n            onClick: toggleMode,\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: faLightbulb\n            })\n          }) : /*#__PURE__*/_jsx(ModeToggle, {\n            onClick: toggleMode,\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: regular\n            })\n          }), /*#__PURE__*/_jsxs(Triger, {\n            onClick: () => setSubMenu(true),\n            children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n          })]\n        })]\n      })\n    }), showConnectWallet && /*#__PURE__*/_jsx(ConnectWalletModal, {}), subMenu && /*#__PURE__*/_jsx(SubMenu, {})]\n  });\n};\n\nexport default BrowserHeader;","map":null,"metadata":{},"sourceType":"module"}