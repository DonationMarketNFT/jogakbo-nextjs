{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/components/header/Header.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { motion, useAnimation, useViewportScroll } from \"framer-motion\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { color, flexSet, media } from \"../../../styles/theme\";\nimport Link from \"next/link\";\nimport { useRecoilState, useResetRecoilState } from \"recoil\";\nimport { modalPropsState, myAddressState, myBalanceState, qrValueState, showConnectWalletModalState, subMenuState } from \"../../../atom\";\nimport SubMenu from \"./SubMenu\";\nimport { useRouter } from \"next/dist/client/router\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLightbulb } from \"@fortawesome/free-solid-svg-icons\";\nimport { faLightbulb as regular } from \"@fortawesome/free-regular-svg-icons\";\nimport useDarkMode from \"use-dark-mode\";\nimport ConnectWalletModal from \"../modals/ConnectWalletModal\";\nimport * as KlipAPI from \"../../api/UseKlip\";\nimport { getBalance } from \"../../api/UseCaver\";\nimport { postAccount } from \"../../api/accountWc\";\nimport axios from \"axios\";\nimport { confirmKaikas, testKaikas } from \"../../api/useKaikas\";\nimport { getDataFromCookie } from \"../../api/Login\";\nvar Head = /*#__PURE__*/styled(motion.header).withConfig({\n  displayName: \"Header__Head\",\n  componentId: \"sc-1l78s6x-0\"\n})([\"position:fixed;top:0;width:100%;height:80px;z-index:999;\"]);\n_c = Head;\nvar headerVariants = {\n  top: {\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\n    backdropFilter: \"none\",\n    border: \"none\",\n    boxShadow: \"none\"\n  },\n  scroll: {\n    backgroundColor: \"rgba(255,255,255,0.25)\",\n    backdropFilter: \"blur(7.5px)\",\n    border: \"2px solid rgba(255, 255, 255, 0.2)\",\n    boxShadow: \"0 2px 30px 0 rgba(0, 0, 0, 0.27)\"\n  }\n};\nvar HeaderFlexBox = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__HeaderFlexBox\",\n  componentId: \"sc-1l78s6x-1\"\n})([\"\", \";margin:0 auto;padding:0 30px;width:1050px;height:100%;\", \"{margin:0;width:100%;}\"], flexSet(\"space-between\"), media.tablet);\n_c2 = HeaderFlexBox;\nvar Col = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__Col\",\n  componentId: \"sc-1l78s6x-2\"\n})([\"display:flex;align-items:center;\"]);\n_c3 = Col;\nvar Logo = /*#__PURE__*/styled.h1.withConfig({\n  displayName: \"Header__Logo\",\n  componentId: \"sc-1l78s6x-3\"\n})([\"font-family:\\\"Gugi\\\",cursive;font-size:28px;transition:all 0.2s ease-in-out;color:#f49a4a;\"]);\n_c4 = Logo;\nvar Menu = /*#__PURE__*/styled.ul.withConfig({\n  displayName: \"Header__Menu\",\n  componentId: \"sc-1l78s6x-4\"\n})([\"\", \";li{position:relative;padding:15px;font-weight:400;transition:all 0.2s ease-in-out;color:\", \";&:hover{color:\", \";}}\", \"{display:none;}\"], flexSet(), function (props) {\n  return props.theme.textColor;\n}, function (props) {\n  return props.theme.gray.gray2;\n}, media[768]);\n_c5 = Menu;\nvar Circle = /*#__PURE__*/styled(motion.span).withConfig({\n  displayName: \"Header__Circle\",\n  componentId: \"sc-1l78s6x-5\"\n})([\"position:absolute;width:5px;height:5px;border-radius:50%;bottom:5px;left:0;right:0;margin:0 auto;background:#f49a4a;\"]);\n_c6 = Circle;\nvar UserBtn = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__UserBtn\",\n  componentId: \"sc-1l78s6x-6\"\n})([\"margin-left:15px;padding:10px 20px;background:#f49a4a;border-radius:10px;color:white;font-size:14px;font-weight:500;transition:all 0.3s ease-in-out;cursor:pointer;\"]);\n_c7 = UserBtn;\nvar ModeToggle = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__ModeToggle\",\n  componentId: \"sc-1l78s6x-7\"\n})([\"\", \";margin-left:15px;cursor:pointer;width:20px;height:20px;svg{width:12px;color:\", \";}&:hover{border-radius:50%;background:rgba(255,255,255,0.2);}\"], flexSet(), color.mainColor);\n_c8 = ModeToggle;\nvar Triger = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"Header__Triger\",\n  componentId: \"sc-1l78s6x-8\"\n})([\"display:none;flex-direction:column;justify-content:space-between;align-items:center;margin-left:15px;width:36px;height:26px;cursor:pointer;div{display:block;width:100%;height:4px;background:black;}div:nth-child(2){width:80%;}\", \"{display:flex;}\"], media[768]);\n_c9 = Triger;\n\nvar BrowserHeader = function BrowserHeader() {\n  _s();\n\n  var router = useRouter();\n  var headerAnimation = useAnimation();\n\n  var _useViewportScroll = useViewportScroll(),\n      scrollY = _useViewportScroll.scrollY;\n\n  var _useRecoilState = useRecoilState(showConnectWalletModalState),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      showConnectWallet = _useRecoilState2[0],\n      setShowConnectWallet = _useRecoilState2[1];\n\n  var _useRecoilState3 = useRecoilState(modalPropsState),\n      _useRecoilState4 = _slicedToArray(_useRecoilState3, 2),\n      modalProps = _useRecoilState4[0],\n      setModalProps = _useRecoilState4[1];\n\n  var _useRecoilState5 = useRecoilState(subMenuState),\n      _useRecoilState6 = _slicedToArray(_useRecoilState5, 2),\n      subMenu = _useRecoilState6[0],\n      setSubMenu = _useRecoilState6[1];\n\n  var _useRecoilState7 = useRecoilState(myAddressState),\n      _useRecoilState8 = _slicedToArray(_useRecoilState7, 2),\n      myAddress = _useRecoilState8[0],\n      setMyAddress = _useRecoilState8[1];\n\n  var _useRecoilState9 = useRecoilState(myBalanceState),\n      _useRecoilState10 = _slicedToArray(_useRecoilState9, 2),\n      myBalance = _useRecoilState10[0],\n      setMyBalance = _useRecoilState10[1];\n\n  var _useRecoilState11 = useRecoilState(qrValueState),\n      _useRecoilState12 = _slicedToArray(_useRecoilState11, 2),\n      qrvalue = _useRecoilState12[0],\n      setQrvalue = _useRecoilState12[1];\n\n  var resetAddressState = useResetRecoilState(myAddressState);\n  var mode = useDarkMode();\n\n  var toggleMode = function toggleMode() {\n    mode.toggle();\n  };\n\n  var getUserData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalProps({\n                title: \"Connect Wallet\",\n                onConfirm: function onConfirm() {\n                  KlipAPI.getAddress(setQrvalue, /*#__PURE__*/function () {\n                    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(address) {\n                      var _balance;\n\n                      return _regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              setMyAddress(address);\n                              _context.next = 3;\n                              return getBalance(address);\n\n                            case 3:\n                              _balance = _context.sent;\n                              setMyBalance(_balance);\n                              postAccount(address, \"klip\", setMyAddress);\n                              setShowConnectWallet(false);\n\n                            case 7:\n                            case \"end\":\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee);\n                    }));\n\n                    return function (_x) {\n                      return _ref2.apply(this, arguments);\n                    };\n                  }());\n                }\n              });\n              setShowConnectWallet(true);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getUserData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleGetUser = function handleGetUser() {\n    getDataFromCookie(setMyAddress);\n  };\n\n  console.log(\"address\", myAddress);\n\n  var handleLogOut = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var user;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.get(\"/api/auth/logout\");\n\n            case 2:\n              user = _context3.sent;\n              console.log(user);\n              resetAddressState();\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleLogOut() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var testK = function testK() {\n    testKaikas(setMyAddress);\n  };\n\n  var confirm = function confirm() {\n    confirmKaikas();\n  };\n\n  useEffect(function () {\n    handleGetUser();\n    testK();\n    confirm();\n  }, []);\n  useEffect(function () {\n    scrollY.onChange(function () {\n      if (scrollY.get() > 20) {\n        headerAnimation.start(\"scroll\");\n      } else {\n        headerAnimation.start(\"top\");\n      }\n    });\n  }, [scrollY, headerAnimation]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      variants: headerVariants,\n      animate: headerAnimation,\n      initial: \"top\",\n      children: /*#__PURE__*/_jsxDEV(HeaderFlexBox, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              children: /*#__PURE__*/_jsxDEV(Logo, {\n                children: \"\\uC870\\uAC01\\uBCF4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              href: \"/campaigns\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\uCEA0\\uD398\\uC778 \\uB458\\uB7EC\\uBCF4\\uAE30\", router.pathname === \"/campaigns\" && /*#__PURE__*/_jsxDEV(Circle, {\n                    layoutId: \"circle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/campaign\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\uCEA0\\uD398\\uC778 \\uC0DD\\uC131\\uD558\\uAE30\", router.pathname === \"/campaign\" && /*#__PURE__*/_jsxDEV(Circle, {\n                    layoutId: \"circle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [myAddress !== \"0x00\" ?\n          /*#__PURE__*/\n          // {token ? (\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(UserBtn, {\n              onClick: handleLogOut,\n              children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/mypage\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: /*#__PURE__*/_jsxDEV(UserBtn, {\n                  children: \"My Page\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(UserBtn, {\n            onClick: getUserData,\n            children: \"connect wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, _this), mode.value ? /*#__PURE__*/_jsxDEV(ModeToggle, {\n            onClick: toggleMode,\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faLightbulb\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, _this) : /*#__PURE__*/_jsxDEV(ModeToggle, {\n            onClick: toggleMode,\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: regular\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(Triger, {\n            onClick: function onClick() {\n              return setSubMenu(true);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, _this), showConnectWallet && /*#__PURE__*/_jsxDEV(ConnectWalletModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 29\n    }, _this), subMenu && /*#__PURE__*/_jsxDEV(SubMenu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 19\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(BrowserHeader, \"9L8wIipBOR14I35dN70nACm2OjM=\", false, function () {\n  return [useRouter, useAnimation, useViewportScroll, useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState, useRecoilState, useResetRecoilState, useDarkMode];\n});\n\n_c10 = BrowserHeader;\nexport default BrowserHeader;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Head\");\n$RefreshReg$(_c2, \"HeaderFlexBox\");\n$RefreshReg$(_c3, \"Col\");\n$RefreshReg$(_c4, \"Logo\");\n$RefreshReg$(_c5, \"Menu\");\n$RefreshReg$(_c6, \"Circle\");\n$RefreshReg$(_c7, \"UserBtn\");\n$RefreshReg$(_c8, \"ModeToggle\");\n$RefreshReg$(_c9, \"Triger\");\n$RefreshReg$(_c10, \"BrowserHeader\");","map":{"version":3,"sources":["/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/components/header/Header.tsx"],"names":["motion","useAnimation","useViewportScroll","useEffect","styled","color","flexSet","media","Link","useRecoilState","useResetRecoilState","modalPropsState","myAddressState","myBalanceState","qrValueState","showConnectWalletModalState","subMenuState","SubMenu","useRouter","FontAwesomeIcon","faLightbulb","regular","useDarkMode","ConnectWalletModal","KlipAPI","getBalance","postAccount","axios","confirmKaikas","testKaikas","getDataFromCookie","Head","header","headerVariants","top","backgroundColor","backdropFilter","border","boxShadow","scroll","HeaderFlexBox","div","tablet","Col","Logo","h1","Menu","ul","props","theme","textColor","gray","gray2","Circle","span","UserBtn","ModeToggle","mainColor","Triger","BrowserHeader","router","headerAnimation","scrollY","showConnectWallet","setShowConnectWallet","modalProps","setModalProps","subMenu","setSubMenu","myAddress","setMyAddress","myBalance","setMyBalance","qrvalue","setQrvalue","resetAddressState","mode","toggleMode","toggle","getUserData","title","onConfirm","getAddress","address","_balance","handleGetUser","console","log","handleLogOut","get","user","testK","confirm","onChange","start","pathname","value"],"mappings":"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","sourcesContent":["import {motion, useAnimation, useViewportScroll} from \"framer-motion\";\nimport {useEffect} from \"react\";\nimport styled from \"styled-components\";\nimport {color, flexSet, media} from \"../../../styles/theme\";\nimport Link from \"next/link\";\nimport {useRecoilState, useResetRecoilState} from \"recoil\";\nimport {\n  modalPropsState,\n  myAddressState,\n  myBalanceState,\n  qrValueState,\n  showConnectWalletModalState,\n  subMenuState,\n} from \"../../../atom\";\nimport SubMenu from \"./SubMenu\";\nimport {useRouter} from \"next/dist/client/router\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faLightbulb} from \"@fortawesome/free-solid-svg-icons\";\nimport {faLightbulb as regular} from \"@fortawesome/free-regular-svg-icons\";\nimport useDarkMode from \"use-dark-mode\";\nimport ConnectWalletModal from \"../modals/ConnectWalletModal\";\nimport * as KlipAPI from \"../../api/UseKlip\";\nimport {getBalance} from \"../../api/UseCaver\";\nimport {postAccount} from \"../../api/accountWc\";\nimport axios from \"axios\";\nimport {confirmKaikas, testKaikas} from \"../../api/useKaikas\";\nimport {getDataFromCookie, isValidToken} from \"../../api/Login\";\nimport {request} from \"http\";\n\nconst Head = styled(motion.header)`\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 80px;\n  z-index: 999;\n`;\n\nconst headerVariants = {\n  top: {\n    backgroundColor: \"rgba(0, 0, 0, 0)\",\n    backdropFilter: \"none\",\n    border: \"none\",\n    boxShadow: \"none\",\n  },\n  scroll: {\n    backgroundColor: \"rgba(255,255,255,0.25)\",\n    backdropFilter: \"blur(7.5px)\",\n    border: \"2px solid rgba(255, 255, 255, 0.2)\",\n    boxShadow: \"0 2px 30px 0 rgba(0, 0, 0, 0.27)\",\n  },\n};\n\nconst HeaderFlexBox = styled.div`\n  ${flexSet(\"space-between\")};\n  margin: 0 auto;\n  padding: 0 30px;\n  width: 1050px;\n  height: 100%;\n  ${media.tablet} {\n    margin: 0;\n    width: 100%;\n  }\n`;\n\nconst Col = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst Logo = styled.h1`\n  font-family: \"Gugi\", cursive;\n  font-size: 28px;\n  transition: all 0.2s ease-in-out;\n  color: #f49a4a;\n`;\n\nconst Menu = styled.ul`\n  ${flexSet()};\n  li {\n    position: relative;\n    padding: 15px;\n    font-weight: 400;\n    transition: all 0.2s ease-in-out;\n    color: ${props => props.theme.textColor};\n    &:hover {\n      color: ${props => props.theme.gray.gray2};\n    }\n  }\n  ${media[768]} {\n    display: none;\n  }\n`;\n\nconst Circle = styled(motion.span)`\n  position: absolute;\n  width: 5px;\n  height: 5px;\n  border-radius: 50%;\n  bottom: 5px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background: #f49a4a;\n`;\n\nconst UserBtn = styled.div`\n  margin-left: 15px;\n  padding: 10px 20px;\n  background: #f49a4a;\n  border-radius: 10px;\n  color: white;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.3s ease-in-out;\n  cursor: pointer;\n`;\n\nconst ModeToggle = styled.div`\n  ${flexSet()};\n  margin-left: 15px;\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  svg {\n    width: 12px;\n    color: ${color.mainColor};\n  }\n  &:hover {\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.2);\n  }\n`;\n\nconst Triger = styled.div`\n  display: none;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 15px;\n  width: 36px;\n  height: 26px;\n  cursor: pointer;\n  div {\n    display: block;\n    width: 100%;\n    height: 4px;\n    background: black;\n  }\n  div:nth-child(2) {\n    width: 80%;\n  }\n  ${media[768]} {\n    display: flex;\n  }\n`;\n\nconst BrowserHeader = () => {\n  const router = useRouter();\n  const headerAnimation = useAnimation();\n  const {scrollY} = useViewportScroll();\n  const [showConnectWallet, setShowConnectWallet] = useRecoilState(\n    showConnectWalletModalState,\n  );\n  const [modalProps, setModalProps] = useRecoilState(modalPropsState);\n  const [subMenu, setSubMenu] = useRecoilState(subMenuState);\n  const [myAddress, setMyAddress] = useRecoilState(myAddressState);\n  const [myBalance, setMyBalance] = useRecoilState(myBalanceState);\n  const [qrvalue, setQrvalue] = useRecoilState(qrValueState);\n  const resetAddressState = useResetRecoilState(myAddressState);\n  const mode = useDarkMode();\n\n  const toggleMode = () => {\n    mode.toggle();\n  };\n\n  const getUserData = async () => {\n    setModalProps({\n      title: \"Connect Wallet\",\n      onConfirm: () => {\n        KlipAPI.getAddress(setQrvalue, async (address: string) => {\n          setMyAddress(address);\n          const _balance = await getBalance(address);\n          setMyBalance(_balance);\n          postAccount(address, \"klip\", setMyAddress);\n          setShowConnectWallet(false);\n        });\n      },\n    });\n    setShowConnectWallet(true);\n  };\n\n  const handleGetUser = () => {\n    getDataFromCookie(setMyAddress);\n  };\n  console.log(\"address\", myAddress);\n\n  const handleLogOut = async () => {\n    const user = await axios.get(\"/api/auth/logout\");\n    console.log(user);\n\n    resetAddressState();\n  };\n\n  const testK = () => {\n    testKaikas(setMyAddress);\n  };\n\n  const confirm = () => {\n    confirmKaikas();\n  };\n\n  useEffect(() => {\n    handleGetUser();\n    testK();\n    confirm();\n  }, []);\n\n  useEffect(() => {\n    scrollY.onChange(() => {\n      if (scrollY.get() > 20) {\n        headerAnimation.start(\"scroll\");\n      } else {\n        headerAnimation.start(\"top\");\n      }\n    });\n  }, [scrollY, headerAnimation]);\n\n  return (\n    <>\n      <Head variants={headerVariants} animate={headerAnimation} initial={\"top\"}>\n        <HeaderFlexBox>\n          <Col>\n            <Link href=\"/\">\n              <a>\n                <Logo>조각보</Logo>\n              </a>\n            </Link>\n          </Col>\n          <Col>\n            <Menu>\n              <Link href=\"/campaigns\">\n                <a>\n                  <li>\n                    캠페인 둘러보기\n                    {router.pathname === \"/campaigns\" && (\n                      <Circle layoutId=\"circle\" />\n                    )}\n                  </li>\n                </a>\n              </Link>\n              <Link href=\"/campaign\">\n                <a>\n                  <li>\n                    캠페인 생성하기\n                    {router.pathname === \"/campaign\" && (\n                      <Circle layoutId=\"circle\" />\n                    )}\n                  </li>\n                </a>\n              </Link>\n            </Menu>\n          </Col>\n          <Col>\n            {myAddress !== \"0x00\" ? (\n              // {token ? (\n              <>\n                <UserBtn onClick={handleLogOut}>로그아웃</UserBtn>\n                <Link href=\"/mypage\">\n                  <a>\n                    <UserBtn>My Page</UserBtn>\n                  </a>\n                </Link>\n              </>\n            ) : (\n              <UserBtn onClick={getUserData}>connect wallet</UserBtn>\n            )}\n            {mode.value ? (\n              <ModeToggle onClick={toggleMode}>\n                <FontAwesomeIcon icon={faLightbulb} />\n              </ModeToggle>\n            ) : (\n              <ModeToggle onClick={toggleMode}>\n                <FontAwesomeIcon icon={regular} />\n              </ModeToggle>\n            )}\n            <Triger onClick={() => setSubMenu(true)}>\n              <div></div>\n              <div></div>\n              <div></div>\n            </Triger>\n          </Col>\n          {/* <Col>\n            <button onClick={handleGetUser}>get user from cookie</button>\n            <button onClick={testK}>test K</button>\n            <button onClick={confirm}>test confirm</button>\n          </Col> */}\n        </HeaderFlexBox>\n      </Head>\n      {showConnectWallet && <ConnectWalletModal />}\n      {subMenu && <SubMenu />}\n    </>\n  );\n};\n\nexport default BrowserHeader;\n"]},"metadata":{},"sourceType":"module"}