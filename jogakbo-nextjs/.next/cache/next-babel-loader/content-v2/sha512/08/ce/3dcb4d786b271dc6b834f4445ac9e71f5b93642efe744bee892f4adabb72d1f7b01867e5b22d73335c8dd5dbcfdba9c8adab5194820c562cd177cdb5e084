{"ast":null,"code":"/* eslint-disable import/no-anonymous-default-export */\nimport { serialize } from \"cookie\";\nexport default async function (req, res) {\n  const {\n    cookies\n  } = req;\n  const jwt = cookies.OursiteJWT;\n\n  if (!jwt) {\n    return res.json({\n      message: \"Bro you are already not logged in...\"\n    });\n  } else {\n    const serialised = serialize(\"OursiteJWT\", null, {\n      httpOnly: true,\n      secure: false,\n      sameSite: \"strict\",\n      maxAge: -1,\n      path: \"/\"\n    });\n    res.setHeader(\"Set-Cookie\", serialised);\n    res.status(200).json({\n      message: \"Successfuly logged out!\"\n    });\n  }\n}","map":{"version":3,"sources":["/Users/kimdawoon/jogakbo-nextjs/jogakbo-nextjs/src/pages/api/auth/logout.js"],"names":["serialize","req","res","cookies","jwt","OursiteJWT","json","message","serialised","httpOnly","secure","sameSite","maxAge","path","setHeader","status"],"mappings":"AAAA;AACA,SAAQA,SAAR,QAAwB,QAAxB;AAEA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AACvC,QAAM;AAACC,IAAAA;AAAD,MAAYF,GAAlB;AAEA,QAAMG,GAAG,GAAGD,OAAO,CAACE,UAApB;;AAEA,MAAI,CAACD,GAAL,EAAU;AACR,WAAOF,GAAG,CAACI,IAAJ,CAAS;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAT,CAAP;AACD,GAFD,MAEO;AACL,UAAMC,UAAU,GAAGR,SAAS,CAAC,YAAD,EAAe,IAAf,EAAqB;AAC/CS,MAAAA,QAAQ,EAAE,IADqC;AAE/CC,MAAAA,MAAM,OAFyC;AAG/CC,MAAAA,QAAQ,EAAE,QAHqC;AAI/CC,MAAAA,MAAM,EAAE,CAAC,CAJsC;AAK/CC,MAAAA,IAAI,EAAE;AALyC,KAArB,CAA5B;AAQAX,IAAAA,GAAG,CAACY,SAAJ,CAAc,YAAd,EAA4BN,UAA5B;AACAN,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB;AACD;AACF","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\nimport {serialize} from \"cookie\";\n\nexport default async function (req, res) {\n  const {cookies} = req;\n\n  const jwt = cookies.OursiteJWT;\n\n  if (!jwt) {\n    return res.json({message: \"Bro you are already not logged in...\"});\n  } else {\n    const serialised = serialize(\"OursiteJWT\", null, {\n      httpOnly: true,\n      secure: process.env.NODE_ENV !== \"development\",\n      sameSite: \"strict\",\n      maxAge: -1,\n      path: \"/\",\n    });\n\n    res.setHeader(\"Set-Cookie\", serialised);\n    res.status(200).json({message: \"Successfuly logged out!\"});\n  }\n}\n"]},"metadata":{},"sourceType":"module"}