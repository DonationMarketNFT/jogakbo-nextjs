{"ast":null,"code":"import axios from \"axios\"; // 쿠키가 있다면 삭제하고 쿠키를 만들어주는 함수 + recoil에 주소 저장\n\nexport const login = async (myAddress, callback) => {\n  const user = await axios.get(\"/api/user\"); // 쿠키 존재한다면 쿠키 삭제\n\n  if (user.data.address) {\n    axios.get(\"/api/auth/logout\");\n  } // 쿠키 생성\n\n\n  const credentials = {\n    myAddress\n  };\n  axios.post(\"/api/auth/login\", credentials);\n  callback(myAddress);\n}; // 쿠키 삭제 (로그아웃)\n\nexport const logout = async () => {\n  const user = await axios.get(\"/api/auth/logout\");\n  console.log(user);\n}; // 유저 정보 조회 + 주소 recoil 설정\n\nexport const getDataFromCookie = async callback => {\n  await axios.get(\"/api/user\").then(user => {\n    const user_key = user;\n\n    if (user.data.address) {\n      console.log(user_key);\n      callback(user.data.address);\n    } else {\n      console.log(user_key);\n    }\n  });\n};\nexport const isValidToken = async callback => {\n  const user = await axios.get(\"/api/user\");\n\n  if (user.data.address) {\n    callback(true);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}